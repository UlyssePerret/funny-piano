<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Piano-UP</title>
    <link href="https://fonts.googleapis.com/css2?family=PT+Mono&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="main.css"> 
  <link rel="stylesheet" href="piano.css">
  </head>
  <body class="pt-mono" >
    <noscript>
      <strong>We're sorry but Piano-UP doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <!-- titre -->
   <div id="title" class=" bloc-title centrer-title">
     <h1 class="text-title">The emoji piano</h1>
   </div>
      <!-- Future emoji- test -->
   <div id="conteneur-emoji" class=" centrer-image image-emoji " >
    <img src="./images/emoji-img2.jpg" alt="emoji" id="image-emoji">
   </div>
     <!-- Piano SVG
   <div id="piano" class=" image-piano ">
      <img src="piano.svg" alt="image du piano">
   </div> -->
   <!--piano Cancas-->
   <div class="Piano">
    <div class="Piano-clavier ">
        <div class="touches-blanches flex mt-3">
            <button class="touche-blanche" id="Do">  </button>
            <button class="touche-blanche" id="Re" > </button>
            <button class="touche-blanche" id="Mi"> </button>
            <button class="touche-blanche" id="Fa" > </button>
            <button class="touche-blanche" id="Sol" > </button>
            <button class="touche-blanche" id="La" > </button>
            <button class="touche-blanche" id="Si" >  </button>
        </div>
        <div class="touches-noires flex">
            <button class="touche-noire" id="DoDiese">  </button> 
            <button class="touche-noire" id="ReDiese"> </button>
            <button class="touche-noire" id="FaDiese" > </button>
            <button class="touche-noire" id="SolDiese" > </button>
            <button class="touche-noire" id="LaDiese" > </button>
        </div>
    </div>
    <div class="Notes-clavier m-auto flex">
        <p class="note">Do</p>
        <p class="note">Ré</p>
        <p class="note">Mi</p>
        <p class="note">Fa</p>
        <p class="note">Sol</p>
        <p class="note">La</p>
        <p class="note">Si</p>
    </div>
</div>

    <!-- built files will be auto injected -->
    <!-- test div   <div id="app">  </div>-->
    <script> 
      console.log("Test Debut - je suis un piano")
      /*Table de Correspondance note FR-ANg
      Do -> C : /assets/sounds/C.mp3
      Do# -> C# : /assets/sounds/C#.mp3  
      Ré -> D : /assets/sounds/D.mp3  
      Ré# -> D#: /assets/sounds/D#.mp3  
      Mi -> E : /assets/sounds/E.mp3  
      Fa -> F: /assets/sounds/F.mp3  
      Fa# -> F#: /assets/sounds/F#.mp3 
      Sol -> G  : /assets/sounds/G.mp3 
      Sol# -> G#  : /assets/sounds/G#.mp3 
      La -> A  : /assets/sounds/A.mp3 
      La# -> A#   : /assets/sounds/A#.mp3 
      Si -> B    : /assets/sounds/B.mp3 
      */
      /*changerEmoticon - Mise en place de L'API
      //rappel clé API GIHPY: la clé d'API de giphy hoc7Xw81iwUP2iewXhekupQznVmYDlHK
      */
      const srcimg = document.getElementById('Do'); 
       
      function  changerEmoticon(){
        var x = document.getElementById("image-emoji");
        /* Avec juste les images acuteller 
        const srcimg="./images/emoji-img3.jpg"; */
        //srcimg=*mettre le retour de l'api*
        x.setAttribute("src", srcimg); 
      };

      function MiseYellow(val){
        val.style.backgroundColor='yellow'; 
      }
      function MiseRed(val){
        val.style.backgroundColor='red'; 
      }
      function MiseWhite(val){
        val.style.backgroundColor='white'; 
      }
      function MiseBlack(val){
        val.style.backgroundColor='black'; 
      }

        //QuandMouse down - changement coleur + Son
      function toucherToucheClavierU(id, val){ 
        val.addEventListener("mouseup", function (event) { 
        switch (id) {
          case 'Do': 
          MiseWhite(val)
            break;
          case 'DoDiese': 
          MiseBlack(val)
            break;
          
          case 'Re':  
          MiseWhite(val)
            break;

          case 'ReDiese':  
          MiseBlack(val)
            break;

          case 'Mi': 
          MiseWhite(val)
            break;

          case 'Fa':  
          MiseWhite(val)
            break;
          
          case 'FaDiese': 
          MiseBlack(val)
            break;

            case 'Sol':
            MiseWhite(val)
            break;

            case 'SolDiese':  
            MiseBlack(val) 
            break;

            case 'La': 
            MiseWhite(val)
            break;
            case 'LaDiese':  
            MiseBlack(val)
            break;

            case 'Si':  
            MiseWhite(val)
            break;

          default:
            console.log("desolé je trouve pas le son")
        } 
      });
    }          
     
      function toucherToucheClavierD(id, val){
        val.addEventListener("mousedown", function (event) { 
        changerEmoticon();
        const audio = document.createElement('audio')
        console.log(id);
        switch (id) {
          case 'Do': 
          MiseYellow(val)
            audio.src = "./assets/sounds/C.mp3"; 
            break;
          case 'DoDiese': 
          MiseRed(val);
            audio.src = "./assets/sounds/C%23.mp3"
            blanc=false;
            break;
          
          case 'Re':  
          MiseYellow(val)
            audio.src = "./assets/sounds/D.mp3"
            break;

          case 'ReDiese':  
          MiseRed(val);
            audio.src = "./assets/sounds/D%23.mp3"
            break;

          case 'Mi': 
          MiseYellow(val)
            audio.src = "./assets/sounds/E.mp3"
            break;

          case 'Fa':  
          MiseYellow(val)
            audio.src = "./assets/sounds/F.mp3"
            break;
          
          case 'FaDiese': 
          MiseRed(val);
            audio.src = "./assets/sounds/F%23.mp3"
            break;

            case 'Sol':
            MiseYellow(val)
            audio.src = "./assets/sounds/G.mp3"
            break;

            case 'SolDiese':  
            MiseRed(val);
            audio.src = "./assets/sounds/G%23.mp3"
            break;

            case 'La': 
            MiseYellow(val)
            audio.src = "./assets/sounds/A.mp3"
            break;
            case 'LaDiese':  
            MiseRed(val);
            audio.src = "./assets/sounds/A%23.mp3"
            break;

            case 'Si':  
            MiseYellow(val)
            audio.src = "./assets/sounds/B.mp3"
            break;

          default:
            console.log("desolé je trouve pas le son")
        }
        audio.play() ;   
      });
    }

      //Blanc
      const Do = document.getElementById('Do'); 
      Doid = Do.id;
      toucherToucheClavierD(Doid,Do); 
      toucherToucheClavierU(Doid,Do); 
      const Re = document.getElementById('Re'); 
      Reid = Re.id; 
      toucherToucheClavierD(Reid,Re); 
      toucherToucheClavierU(Reid,Re); 
      const Mi = document.getElementById('Mi'); 
      Mid = Mi.id; 
      toucherToucheClavierD(Mid,Mi); 
      toucherToucheClavierU(Mid,Mi); 
      const Fa = document.getElementById('Fa');
      Faid = Fa.id; 
      toucherToucheClavierD(Faid,Fa); 
      toucherToucheClavierU(Faid,Fa)  
      const Sol = document.getElementById('Sol');
      Solid  = Sol.id; 
      toucherToucheClavierD( Solid , Sol );  
      toucherToucheClavierU( Solid , Sol );   
      const La = document.getElementById('La');
      Laid  = La.id; 
      toucherToucheClavierD( Laid , La );
      toucherToucheClavierU( Laid , La );      
      const Si = document.getElementById('Si');
      Sid  = Si.id; 
      toucherToucheClavierD( Sid, Si );  
      toucherToucheClavierU( Sid, Si );   
      //Noir
      const DoDiese = document.getElementById('DoDiese');
      Dodid = DoDiese.id; 
      toucherToucheClavierD(Dodid,DoDiese); 
      toucherToucheClavierU(Dodid,DoDiese);
      const ReDiese = document.getElementById('ReDiese');
      Redid = ReDiese.id; 
      toucherToucheClavierD(Redid,ReDiese); 
      toucherToucheClavierU(Redid,ReDiese); 
      const FaDiese = document.getElementById('FaDiese');
      Fadid = FaDiese.id; 
      toucherToucheClavierD(Fadid,FaDiese);
      toucherToucheClavierU(Fadid,FaDiese);  
      const SolDiese = document.getElementById('SolDiese');
      Soldid = SolDiese.id; 
      toucherToucheClavierD(Soldid,SolDiese);
      toucherToucheClavierU(Soldid,SolDiese); 
      const LaDiese = document.getElementById('LaDiese');
      Ladid = LaDiese.id; 
      toucherToucheClavierD( Ladid,LaDiese);
      toucherToucheClavierU( Ladid,LaDiese);     

      console.log("Test Fin - je suis un piano")
    </script>
  </body>
</html>
